{% load util_tags %}

<h1>{{ field.heading }}</h1>
{% if field.is_group %}
    {% if field.sub_fields %}
        <table class="table">
            <thead>
              <tr>
                {% for sub_heading in field.headings %}
                  <th>{{ sub_heading }}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
              {% for flist in field.sub_fields %}
                <tr>
                {% for subfield in flist %}
                  {% comment %}
                  Some duplication here could render the template again but it's
                  not needed right now since depth is only 1
                  {% endcomment %}
                  <td>
                  {% if subfield.is_link %}
                      <a href="{{ field.url }}">{{ field }}<span class="text-danger">*</span></a>
                  {% else %}
                      {{ subfield }}
                  {% endif %}
                  </td>
                {% endfor %}
                </tr>
              {% endfor %}
            </tbody>
        </table>
    {% else %}
      <p>{{ field.empty_text }}</p>
    {% endif %}
{% elif field.is_link %}
    <a href="{{ field.url }}">{{ field }}<span class="text-danger">*</span></a>
{% else %}
    {{ field }}
{% endif %}
