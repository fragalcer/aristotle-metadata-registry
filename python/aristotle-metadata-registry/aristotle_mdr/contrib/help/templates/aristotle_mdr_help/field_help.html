{% extends "aristotle_mdr_help/base.html" %}
{% load i18n aristotle_help util_tags %}

{% block breadcumbs %}
    <li><a href="{% url 'aristotle_help:help_base' %}">Help</a></li>
    <li><a href="{% url 'aristotle_help:help_concepts' %}">Concepts</a></li>
    <li><a href="{% url 'aristotle_help:concept_app_help' app.label %}">{{ app.verbose_name }}</a></li>
    <li><a href="{% url 'aristotle_help:concept_help' app.label model_name %}">{{ model.get_verbose_name_plural }}</a></li>
    {% if this_is_a_custom_field %}
        <li class="active">{{field}}</li>
    {% else %}
        <li class="active">{{field.verbose_name.title}}</li>
    {% endif %}
{% endblock %}

{% block title %}
    {% if this_is_a_custom_field %}
        Custom Field help - {{ model.get_verbose_name }} - {{field}}
    {% else %}
        Field help - {{ model.get_verbose_name }} - {{field.verbose_name.title}}
    {% endif %}
{% endblock %}

{% block help_content %}
    <h2>
        Help text for field <em>{{ field.verbose_name.title }}</em>
    </h2>
    {% if not this_is_a_custom_field %}
        <div class="panel panel-default">
            <div class="panel-heading">ISO 11179 help definition</div>
            <div class="panel-body">
                {% firstof field.help_text "No help text available" %}
            </div>
        </div>
    {% elif custom_help.help_text %}
        <div class="panel panel-default">
            <div class="panel-heading">Short help</div>
            <div class="panel-body">
                {% firstof custom_help.help_text "No help text available" %}
            </div>
        </div>
    {% endif %}
    {% if custom_help.help_text_long %}
        <div class="panel panel-default">
            <div class="panel-heading">Registry specific help</div>
            <div class="panel-body">
                {{ custom_help.help_text_long|bleach }}
            </div>
        </div>
    {% endif %}
{% endblock %}
